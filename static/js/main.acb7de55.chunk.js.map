{"version":3,"sources":["services/moviesApi.jsx","components/Search.jsx","components/MoviesList.jsx","components/MovieItem.jsx","components/App.jsx","index.jsx"],"names":["this","apiKey","baseUrl","imageBaseUrl","fetch","response","json","sessionID","query","page","sessionIDFiled","queryFiled","console","log","error","results","width","path","guestSessionID","movieID","rateNumber","body","value","method","headers","JSON","stringify","Search","fetchData","disabled","useState","searchValue","setSearchValue","input","useRef","useEffect","current","focus","deb","useMemo","debounce","className","ref","placeholder","onChange","event","target","handleSearchValue","MoviesList","children","currentPage","setPage","alertEmpty","React","Children","count","type","message","style","paddingLeft","fontSize","alertError","size","total","defaultProps","MovieItem","data","genres","rate","setRate","rateColor","setRateColor","id","title","posterPath","poster_path","releaseDate","release_date","overview","voteAverage","vote_average","genreIds","genre_ids","Paragraph","Typography","img","src","moviesApi","getImagePath","alt","date","format","Date","genresList","map","genresId","key","cover","bodyStyle","padding","bordered","borderColor","ellipsis","rows","expandable","symbol","defaultValue","rateMovie","allowHalf","App","loading","setLoading","setSessionID","sort","setSort","setData","stateError","setError","setGenres","Promise","resolve","then","getGenres","genresNames","item","Object","prototype","hasOwnProperty","call","rest","reduce","acc","name","useGenres","getRatedListGuestSession","getSearchList","createGuestSession","session","guest_session_id","window","scrollTo","Content","Layout","TabPane","Tabs","list","movie","centered","onTabClick","tab","spinning","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.acb7de55.chunk.js","sourcesContent":["class MoviesApi {\r\n  constructor() {\r\n    this.apiKey = 'e3cafce94e3a863833765608b4d85428';\r\n    this.baseUrl = 'https://api.themoviedb.org/3';\r\n    this.imageBaseUrl = 'https://image.tmdb.org/t/p';\r\n  }\r\n\r\n  async createGuestSession() {\r\n    const response = await fetch(`${this.baseUrl}/authentication/guest_session/new?api_key=${this.apiKey}`);\r\n    return response.json();\r\n  }\r\n\r\n  async getSearchList(sessionID, query = 'a', page = 1) {\r\n    const sessionIDFiled = sessionID ? `&seisson_id=${sessionID}` : '';\r\n    const queryFiled = query !== '' ? query : 'a';\r\n    console.log('ID in API:', sessionID, sessionIDFiled);\r\n    let response;\r\n    try {\r\n      response = await fetch(\r\n        `${this.baseUrl}/search/movie?api_key=${this.apiKey}${sessionIDFiled}&query=${queryFiled}&page=${page}`\r\n      );\r\n    } catch (error) {\r\n      return {\r\n        error,\r\n        results: [],\r\n      };\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  getImagePath(width, path) {\r\n    const errorImg = 'https://avatanplus.com/files/resources/original/57b1a0f710a0b1568ddcc51c.jpg';\r\n\r\n    return path !== null ? `${this.imageBaseUrl}/w${width}${path}` : errorImg;\r\n  }\r\n\r\n  async rateMovie(guestSessionID, movieID, rateNumber) {\r\n    const body = {\r\n      value: rateNumber,\r\n    };\r\n    const response = await fetch(\r\n      `${this.baseUrl}/movie/${movieID}/rating?api_key=${this.apiKey}&guest_session_id=${guestSessionID}`,\r\n      {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json;charset=utf-8',\r\n        },\r\n        body: JSON.stringify(body),\r\n      }\r\n    );\r\n    console.log('ID in API:', guestSessionID, movieID);\r\n\r\n    return response.json();\r\n  }\r\n\r\n  async getRatedListGuestSession(guestSessionID) {\r\n    let response;\r\n    console.log('ID in API:', guestSessionID);\r\n    try {\r\n      response = await fetch(`\r\n    ${this.baseUrl}/guest_session/${guestSessionID}/rated/movies?api_key=${this.apiKey}&language=en-US&sort_by=created_at.asc`);\r\n    } catch (error) {\r\n      return {\r\n        error,\r\n        results: [],\r\n      };\r\n    }\r\n    return response.json();\r\n  }\r\n\r\n  async getGenres() {\r\n    const response = await fetch(`${this.baseUrl}/genre/movie/list?api_key=${this.apiKey}&language=en-US`);\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport default new MoviesApi();\r\n","import React, { useState, useRef, useEffect, useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { debounce } from 'lodash';\r\nimport { Input } from 'antd';\r\n\r\nexport default function Search({ fetchData, disabled }) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const input = useRef(null);\r\n\r\n  useEffect(() => {\r\n    input.current.focus();\r\n  });\r\n\r\n  const handleSearchValue = (event) => {\r\n    setSearchValue(event.target.value);\r\n  };\r\n  const deb = useMemo(() => debounce(fetchData, 400), [fetchData]);\r\n  return (\r\n    <Input\r\n      className=\"Search\"\r\n      ref={input}\r\n      placeholder=\"Type to search...\"\r\n      disabled={disabled}\r\n      value={searchValue}\r\n      onChange={(event) => {\r\n        handleSearchValue(event);\r\n        deb(event.target.value);\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nSearch.propTypes = {\r\n  fetchData: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Pagination, Alert } from 'antd';\r\n\r\nexport default function MoviesList({ error, children, className, currentPage, setPage }) {\r\n  const isDataEmpty = React.Children.count(children) > 0;\r\n  const alertEmpty = isDataEmpty ? null : (\r\n    <Alert type=\"info\" message=\"Movies not Found\" style={{ paddingLeft: 50, fontSize: 30 }} />\r\n  );\r\n  const alertError = !error ? null : (\r\n    <Alert type=\"error\" message=\"The Internet may not be available\" style={{ paddingLeft: 50, fontSize: 30 }} />\r\n  );\r\n  return (\r\n    <>\r\n      {alertError || alertEmpty || <ul className={className}>{children}</ul>}\r\n      <Pagination className=\"Pagination\" size=\"small\" total={50} current={currentPage} onChange={setPage} />\r\n    </>\r\n  );\r\n}\r\nMoviesList.defaultProps = {\r\n  error: null,\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.any]),\r\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\r\n  className: PropTypes.string.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  setPage: PropTypes.func.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, Tag, Typography, Rate } from 'antd';\r\nimport { format } from 'date-fns';\r\nimport moviesApi from '../services/moviesApi';\r\n\r\nexport default function MovieItem({ className, data, sessionID, genres }) {\r\n  const [rate, setRate] = useState();\r\n  const [rateColor, setRateColor] = useState('black');\r\n\r\n  const {\r\n    id,\r\n    title,\r\n    poster_path: posterPath,\r\n    release_date: releaseDate,\r\n    overview,\r\n    vote_average: voteAverage,\r\n    genre_ids: genreIds,\r\n  } = data;\r\n  const { Paragraph } = Typography;\r\n\r\n  useEffect(() => {\r\n    if (voteAverage >= 0 && voteAverage < 3) {\r\n      setRateColor('#E90000');\r\n    }\r\n    if (voteAverage >= 3 && voteAverage < 5) {\r\n      setRateColor('#E97E00');\r\n    }\r\n    if (voteAverage >= 5 && voteAverage < 7) {\r\n      setRateColor('#E9D100');\r\n    }\r\n    if (voteAverage >= 7) {\r\n      setRateColor('#66E900');\r\n    }\r\n  }, [voteAverage]);\r\n\r\n  const img = <img src={moviesApi.getImagePath(185, posterPath)} alt={data.title} />;\r\n  const date = releaseDate ? format(new Date(releaseDate), 'MMMM d, yyyy') : '-/-/-';\r\n  const genresList = genreIds.map((genresId) => (\r\n    <Tag className=\"MovieItem__tag\" key={genresId}>\r\n      {genres[genresId]}\r\n    </Tag>\r\n  ));\r\n\r\n  return (\r\n    <Card className={className} cover={img} bodyStyle={{ padding: '10px 20px 40px' }} bordered={false}>\r\n      <div className=\"MovieItem__header\">\r\n        <h3 className=\"MovieItem__title\">{title}</h3>\r\n        <div className=\"MovieItem__rate-circle\" style={{ borderColor: rateColor }}>\r\n          {voteAverage}\r\n        </div>\r\n      </div>\r\n      <p className=\"MovieItem__date\">{date}</p>\r\n      <div className=\"MovieItem__tag-wrapper\">{genres && genreIds ? genresList : null}</div>\r\n      <Paragraph className=\"MovieItem__overview\" ellipsis={{ rows: 5, expandable: true, symbol: 'more' }}>\r\n        {overview}\r\n      </Paragraph>\r\n      <Rate\r\n        className=\"MovieItem__rate-stars\"\r\n        count={10}\r\n        defaultValue={0}\r\n        value={rate}\r\n        onChange={(rateNumber) => {\r\n          setRate(rateNumber);\r\n          moviesApi.rateMovie(sessionID, id, rateNumber);\r\n        }}\r\n        allowHalf\r\n      />\r\n    </Card>\r\n  );\r\n}\r\n\r\nMovieItem.defaultProps = {\r\n  sessionID: null,\r\n  genres: null,\r\n};\r\n\r\nMovieItem.propTypes = {\r\n  className: PropTypes.string.isRequired,\r\n  data: PropTypes.shape({\r\n    id: PropTypes.number,\r\n    title: PropTypes.string,\r\n    poster_path: PropTypes.string,\r\n    release_date: PropTypes.string,\r\n    overview: PropTypes.string,\r\n    vote_average: PropTypes.number,\r\n    genre_ids: PropTypes.arrayOf(PropTypes.number),\r\n  }).isRequired,\r\n  sessionID: PropTypes.string,\r\n  genres: PropTypes.objectOf(PropTypes.string),\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Layout, Tabs, Spin } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './App.css';\r\nimport moviesApi from '../services/moviesApi';\r\nimport Search from './Search';\r\nimport MoviesList from './MoviesList';\r\nimport MovieItem from './MovieItem';\r\n\r\nexport default function App() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [sessionID, setSessionID] = useState(null);\r\n  const [sort, setSort] = useState('search');\r\n  const [data, setData] = useState([]);\r\n  const [stateError, setError] = useState(null);\r\n  const [currentPage, setPage] = useState(1);\r\n  const genres = useGenres();\r\n\r\n  function fetchData(query) {\r\n    setLoading(true);\r\n    Promise.resolve()\r\n      .then(() => {\r\n        if (sort === 'rated') return moviesApi.getRatedListGuestSession(sessionID);\r\n        return moviesApi.getSearchList(sessionID, query, currentPage);\r\n      })\r\n      .then(({ error, results }) => {\r\n        setLoading(false);\r\n        setData(results);\r\n        setError(error);\r\n        return results;\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log('useEffect init');\r\n    Promise.resolve()\r\n      .then(() => {\r\n        return moviesApi.createGuestSession();\r\n      })\r\n      .then((session) => {\r\n        setSessionID(session.guest_session_id);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log('useEffect Page');\r\n    fetchData();\r\n    window.scrollTo(0, 0);\r\n    // eslint-disable-next-line\r\n  }, [currentPage, sort]);\r\n\r\n  const { Content } = Layout;\r\n  const { TabPane } = Tabs;\r\n\r\n  const list = data.map((movie) => (\r\n    <li className=\"li-MovieItem\" key={movie.id}>\r\n      <MovieItem className=\"MovieItem\" data={movie} sessionID={sessionID} genres={genres} />\r\n    </li>\r\n  ));\r\n\r\n  console.log('render');\r\n  return (\r\n    <div className=\"App\">\r\n      <Layout className=\"Layout\">\r\n        <Content className=\"Content\">\r\n          <Tabs className=\"Tabs\" size=\"large\" centered onTabClick={setSort}>\r\n            <TabPane tab=\"Search\" key=\"search\" />\r\n            <TabPane tab=\"Rated\" key=\"rated\" />\r\n          </Tabs>\r\n          <Search fetchData={fetchData} disabled={sort === 'rated'} />\r\n          <Spin spinning={loading} size=\"large\">\r\n            <MoviesList className=\"MoviesList\" error={stateError} currentPage={currentPage} setPage={setPage}>\r\n              {list}\r\n            </MoviesList>\r\n          </Spin>\r\n        </Content>\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction useGenres() {\r\n  const [genres, setGenres] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Promise.resolve()\r\n      .then(() => {\r\n        return moviesApi.getGenres();\r\n      })\r\n      .then((genresList) => {\r\n        setGenres(genresList.genres);\r\n      });\r\n  }, []);\r\n\r\n  let genresNames = [];\r\n  for (const item in genres) {\r\n    if (Object.prototype.hasOwnProperty.call(genres, item)) {\r\n      const [...rest] = genresNames;\r\n      genresNames = [...rest, genres[item]];\r\n    }\r\n  }\r\n  const genresList = genresNames.reduce((acc, ...item) => {\r\n    return { ...acc, [item[0].id]: item[0].name };\r\n  }, {});\r\n\r\n  return genresList;\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}